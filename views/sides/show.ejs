<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show</title>
    <link rel="stylesheet" href="/resources/styles/showstyle.css">
</head>
<% if((msgs.success || msgs.successedt) && (msgs.success || msgs.successedt).length) { %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <%= msgs.success || msgs.successedt %>
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
    <% } %>

        <% if((msgs.error || msgs.erroredt || msgs.error0) && (msgs.error || msgs.erroredt || msgs.error0).length) { %>
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <%= msgs.error || msgs.erroredt || msgs.error0 %>
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
            <% } %>

                <body style="background-color: goldenrod;">
                    <div id="headblock">
                        <h2>
                            <%= side.name %> - â‚¬<%= side.price %>
                        </h2>
                        <div id="actionbtns">
                            <button><a href="/sides/<%=side._id%>/edit">Edit</a></button>
                            <form action="/sides/<%=side._id%>?_method=DELETE" method="POST">
                                <button>Delete</button>
                            </form>
                        </div>
                    </div>
                    <figure id="dishdeetblock">
                        <div id="imgblock">
                            <img src="<%= side.imgsrc %>" alt="<%= side.name %>" style="width:300px; height:300px;">
                        </div>
                        <div id="detailsblock">
                            <p>Category : <%= side.category %>
                            </p>
                            <p>Description : <%= side.description %>
                            </p>
                            <p>Prep Time: <%= side.prepTime %> minutes</p>
                        </div>

                    </figure>
                    <section class="addinfo">
                        <div>
                            <button id="revdisplay">
                                <h3>Reviews --</h3>
                            </button>
                            <ul id="revwindow">
                                //pass available dish specific reviews
                                <% for(let review of side.reviews){ %>
                                    <li>
                                        <p>Rating: <%=review.rating%>
                                        </p>
                                        <span
                                            style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: larger;">
                                            <%=review.body%>
                                        </span>
                                        <section>Posted -- <span style="
                                        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
                                        text-transform: uppercase; font-size: medium;
                                        ">
                                                <%=review.published.toLocaleString()%>
                                            </span>
                                        </section>
                                    </li>
                                    <% } %>
                            </ul>
                        </div>
                        <form action="/sides/<%= side._id %>/reviews" method="POST" id="revform">
                            <h3>Add a Review</h3>
                            <div id="revrate">
                                <label for="rating">Rating:</label>
                                <input type="range" min="1" max="5" step="1" name="review[rating]" id="rating">
                            </div>
                            <div id="revbody">
                                <label for="body">Review:</label>
                                <textarea name="review[body]" id="body"
                                    style="width: 300px; height: 100px; border: 2px groove hsl(0, 0%, 80%);"
                                    placeholder="Tell us how you feel and what you think about this side..."></textarea>
                            </div>
                            <button type="submit">Submit Review</button>
                        </form>
                    </section>
                    <footer>
                        <section id="actionbtns"><button><a href="/sides">Return >to All Sides</a></button></section>
                    </footer>
                    <script src="../../resources/scripts/servshow.js"></script>
                </body>

</html>